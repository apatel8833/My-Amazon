<%- include ./header/header.ejs%>

    <div class="main pt-4 px-3" >
      <h1>Profile Page.</h1>
      <hr>
    <div>
  
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="/create/product" method="post" enctype="multipart/form-data">
          <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Product name</label>
            <input type="string" name="productname" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
          </div>
          <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Product price</label>
            <input type="number" name="price" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
          </div>
          <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Product Descreption</label>
            <input type="string" name="disciption" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
          </div>
          <div class="mb-3">
            <label for="formFile" class="form-label">Default file input example</label>
            <input class="form-control" name="pic" type="file" id="formFile">
          </div>
          <div class="mb-3">
            <label for="formFile" class="form-label">Default file input example</label>
            <input class="form-control" name="pic" type="file" id="formFile">
          </div>
          <div class="mb-3">
            <label for="formFile" class="form-label">Default file input example</label>
            <input class="form-control" name="pic" type="file" id="formFile">
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
    </div>
  </div>
</div>

<%if(verified){%>
  <h5 style="color: green;">Your profile is verified..</h5>
  <%}else{%>
    
    <div class="p-2 d-flex justify-content-between text-center danger-bg-primary-subtle border danger-border-primary-subtle rounded-3" style="background-color: rgb(255, 149, 149);color: rgb(206, 206, 206);">
    <span>Your profile is not complete <a style="color: rgb(206, 206, 206);" href="/verify">verify your profile</a>..</span>
    <a class="btn px-4" style="background-color: rgb(250, 105, 105);" href="/verify">verify </a>
    </div>

  <%}%>
    
     
    <div class="d-flex">
      <div id="photu" class="mt-3" style="overflow: hidden; height: 80px;width: 70px; border: 1px solid black; border-radius: 10px;">
          <img style="height: 100%; width: 100%; object-fit: cover; object-position: center;" src="../images/userimages/<%=user.pic%>" alt="">
        </div>
        <div class="mt-3 mx-2 d-flex flex-column">
          <h3 class=""><%=user.name%></h3>
          <!-- <h6 style="color: rgb(160, 160, 160);">@<%=user.name%></h6> -->
          <a style="color: black; text-decoration: none; font-weight: 600;" href="/image">edit your profile</a>
        </div>
    </div>

    <div class="mt-3">
      <!-- <a class="btn btn-primary " data-bs-toggle="modal" data-bs-target="#exampleModal" href="">+ Create Your Product</a> -->
      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
        Create Product
      </button>
      <a class="btn btn-danger" href="">! Update Old Product</a>
      <a class="btn btn-warning" href="/Allproducts">Show All Products</a>
    </div>
    <h2 class="mt-3">Recently Created Products</h2>
    <hr>
    <div class="d-flex" style="gap: 10px;">
      <%user.products.forEach(function(pro){%>
        <div class="d-flex" >
          <div class="card" style="width: 18rem;">
            <div id="carouselExampleRide" class="carousel slide" data-bs-ride="true">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="../images/productimages/<%=pro.pic[0]%>" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="../images/productimages/<%=pro.pic[1]%>" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="../images/productimages/<%=pro.pic[2]%>" class="d-block w-100" alt="...">
                </div>
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleRide" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleRide" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
            </div>
            <div class="card-body">        
              <br>
              <h5 class="card-title"><%=pro.productname%></h5>
              <p class="card-text"><%=pro.disciption%></p>
              <small style="font-weight: bold; color: green;">&#8377;<%=pro.price%></small>
              <br>
              <a href="/edit/product/<%=pro._id%>" class="btn btn-info mt-2">Edit Product</a>
              <a href="/delete/product/<%=pro._id%>" class="btn btn-danger mt-2">Delete Product</a>


            </div>
          </div>
        </div>
      <%})%>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  </body>
</html>